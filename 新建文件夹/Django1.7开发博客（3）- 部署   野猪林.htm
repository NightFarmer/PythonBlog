<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0052)http://www.pycoding.com/articles/140.html#comment-15 -->
<html  xmlns="http://www.w3.org/1999/xhtml"><head  profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta  http-equiv="X-UA-Compatible"  content="IE=EmulateIE7">
	            <title>Django1.7开发博客（3）- 部署 | 野猪林</title>
        	<link  rel="alternate"  type="application/rss+xml"  title="RSS 2.0 - 所有文章"  href="http://www.pycoding.com/feed">
	<link  rel="alternate"  type="application/rss+xml"  title="RSS 2.0 - 所有评论"  href="http://www.pycoding.com/comments/feed">
	<link  rel="pingback"  href="http://www.pycoding.com/xmlrpc.php">

	
	
	<style  type="text/css"  media="screen">@import url( http://www.pycoding.com/wp-content/themes/inove/style.css );</style>
	
			<link  rel="stylesheet"  href="./Django1.7开发博客（3）- 部署   野猪林_files/chinese.css"  type="text/css"  media="screen">
		
	

	
	<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/base.js"></script>
	<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/menu.js"></script>
	

	<link  rel="alternate"  type="application/rss+xml"  title="野猪林 » Django1.7开发博客（3）- 部署评论Feed"  href="http://www.pycoding.com/articles/140.html/feed">
<link  rel="stylesheet"  id="wp-pagenavi-css"  href="./Django1.7开发博客（3）- 部署   野猪林_files/pagenavi-css.css"  type="text/css"  media="all">
<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/jquery.js"></script><style  type="text/css"></style>
<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/jquery-migrate.min.js"></script>
<link  rel="EditURI"  type="application/rsd+xml"  title="RSD"  href="http://www.pycoding.com/xmlrpc.php?rsd">
<link  rel="wlwmanifest"  type="application/wlwmanifest+xml"  href="http://www.pycoding.com/wp-includes/wlwmanifest.xml"> 
<link  rel="prev"  title="Django1.7开发博客（2）- 模型"  href="http://www.pycoding.com/articles/135.html">
<link  rel="next"  title="Django1.7开发博客（4）- 三部曲"  href="http://www.pycoding.com/articles/142.html">
<meta  name="generator"  content="WordPress 4.0.1">
<link  rel="shortlink"  href="http://www.pycoding.com/?p=140">
	<style  type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>


<meta  name="description"  itemprop="description"  content="Django1.7开发博客（3）- 部署">

<meta  name="keywords"  itemprop="keywords"  content="django">

<link  rel="canonical"  href="http://www.pycoding.com/articles/140.html">

<link  rel="stylesheet"  type="text/css"  href="./Django1.7开发博客（3）- 部署   野猪林_files/shCore.css"><link  rel="stylesheet"  type="text/css"  href="./Django1.7开发博客（3）- 部署   野猪林_files/shThemeDefault.css"><style  type="text/css"  id="syntaxhighlighteranchor"></style>
</head>


<body>

<div  id="wrap">


<div  id="container">


<div  id="header">

	
		

	<div  id="caption">
		<h1  id="title"><a  href="http://www.pycoding.com/">野猪林</a></h1>
		<div  id="tagline">分享技术，追求简单之美</div>
	</div>

	<div  class="fixed"></div>
</div>



<div  id="navigation">
	
	<ul  id="menus">
		<li  class="page_item"><a  class="home"  title="首页"  href="http://www.pycoding.com/">首页</a></li>
		<li  class="page_item page-item-2"><a  href="http://www.pycoding.com/sample-page">开心一刻</a></li>
<li  class="page_item page-item-17"><a  href="http://www.pycoding.com/message">留言小本</a></li>
<li  class="page_item page-item-19"><a  href="http://www.pycoding.com/aboutsite">关于本站</a></li>
<li  class="page_item page-item-22"><a  href="http://www.pycoding.com/aboutme">关于作者</a></li>
		<li><a  class="lastmenu"  href="javascript:void(0);"></a></li>
	</ul>
	

	
	<div  id="searchbox">
					<form  action="http://www.pycoding.com/"  method="get">
				<div  class="content">
					<input  type="text"  class="textfield searchtip"  name="s"  size="24"  value="">
					<input  type="submit"  class="button"  value="">
				</div>
			</form>
			</div>
<script  type="text/javascript">
//<![CDATA[
	var searchbox = MGJS.$("searchbox");
	var searchtxt = MGJS.getElementsByClassName("textfield", "input", searchbox)[0];
	var searchbtn = MGJS.getElementsByClassName("button", "input", searchbox)[0];
	var tiptext = "请输入关键字...";
	if(searchtxt.value == "" || searchtxt.value == tiptext) {
		searchtxt.className += " searchtip";
		searchtxt.value = tiptext;
	}
	searchtxt.onfocus = function(e) {
		if(searchtxt.value == tiptext) {
			searchtxt.value = "";
			searchtxt.className = searchtxt.className.replace(" searchtip", "");
		}
	}
	searchtxt.onblur = function(e) {
		if(searchtxt.value == "") {
			searchtxt.className += " searchtip";
			searchtxt.value = tiptext;
		}
	}
	searchbtn.onclick = function(e) {
		if(searchtxt.value == "" || searchtxt.value == tiptext) {
			return false;
		}
	}
//]]>
</script>
	

	<div  class="fixed"></div>
</div>



<div  id="content">

	
	<div  id="main">
	<div  id="postpath">
		<a  title="转到首页"  href="http://www.pycoding.com/">首页</a>
		 &gt; <a  href="http://www.pycoding.com/articles/category/django"  rel="category tag">Django</a>		 &gt; Django1.7开发博客（3）- 部署	</div>

	<div  class="post"  id="post-140">
		<h2>Django1.7开发博客（3）- 部署</h2>
		<div  class="info">
			<span  class="date">2014年11月11日</span>
			<span  class="author"><a  href="http://www.pycoding.com/articles/author/xiongneng"  title="由熊能发布"  rel="author">熊能</a></span>										<span  class="addcomment"><a  href="http://www.pycoding.com/articles/140.html#respond">发表评论</a></span>
				<span  class="comments"><a  href="http://www.pycoding.com/articles/140.html#comments">阅读评论</a></span>
			                        <span  class="comments"> 332 人阅读&nbsp;&nbsp;</span>
			<div  class="fixed"></div>
		</div>
		<div  class="content">
			<p>到目前为止，你的网站只能在你自己的电脑上访问到。你需要将它发布到公网上去让地球上的人都能看到，那么要怎么做呢？</p>
<p><em><strong>Heroku简介</strong></em><br>
Heroku是一个主机托管平台，对于访问量不是很大的小应用是免费的，正好适用于我们的这个例子。<br>
Heroku官网上有一篇django的教程：<a  href="https://devcenter.heroku.com/articles/getting-started-with-django">https://devcenter.heroku.com/articles/getting-started-with-django</a><br>
这里我把它复制到这里来详细讲解一下。</p>
<p><em><strong>requirements.txt文件</strong></em><br>
我们需要创建一个requirements.txt文件来告知Heroku需要在服务器上创建哪些python包。<br>
不过首先，Heroku需要我们在本地按照一些包。在python虚拟环境virtualenv下面执行：</p>
<div><div  id="highlighter_419894"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">(myvenv) [mango@centos mysite]$ pip </code><code  class="bash functions">install</code> <code  class="bash plain">dj-database-url gunicorn whitenoise</code></div></div></td></tr></tbody></table></div></div>
<p>然后，在mysite目录，也就是manage.py所在目录执行：</p>
<div><div  id="highlighter_91401"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">(myvenv) [mango@centos00 mysite]$ pip freeze &gt; requirements.txt</code></div></div></td></tr></tbody></table></div></div>
<p>这条命令会新建一个requirements.txt文件，里面包含了工程的所有依赖包。<br>
打开这个文件，添加下面这句话：</p>
<div><div  id="highlighter_644641"  class="syntaxhighlighter  python"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="python plain">psycopg2</code><code  class="python keyword">=</code><code  class="python keyword">=</code><code  class="python value">2.5</code><code  class="python plain">.</code><code  class="python value">4</code></div></div></td></tr></tbody></table></div></div>
<p>要想在Heroku上面运行，必须加上这句。<span  id="more-140"></span></p>
<p><em><strong>Procfile文件</strong></em><br>
另一个需要创建的文件就是Procfile，它告知Heroku在启动网站时需要执行的命令。<br>
同样在manage.py所在目录，新建一个文件名为Procfile，添加如下内容：</p>
<div><div  id="highlighter_160339"  class="syntaxhighlighter  plain"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="plain plain">web: gunicorn mysite.wsgi</code></div></div></td></tr></tbody></table></div></div>
<p>这句话的意思就是我们将要部署一个web应用程序，并且我们通过执行 gunicorn mysite.wsgi命令来完成。<br>
gunicorn是一个类似django的runserver的程序，但是功能更强大。</p>
<p><em><strong>runtime.txt文件</strong></em><br>
我们需要告知Heroku运行时的python版本，这里我们指定为3.4.2。新建runtime.txt，加入</p>
<div><div  id="highlighter_224340"  class="syntaxhighlighter  plain"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="plain plain">python-3.4.2</code></div></div></td></tr></tbody></table></div></div>
<p>mysite/local_settings.py文件<br>
由于我们本地开发使用的数据库跟服务器上部署时使用的数据库是不一样的。<br>
那么我们需要创建一个local_settings.py来指定本地用的数据库。</p>
<div><div  id="highlighter_615926"  class="syntaxhighlighter  python"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div><div  class="line number5 index4 alt2">5</div><div  class="line number6 index5 alt1">6</div><div  class="line number7 index6 alt2">7</div><div  class="line number8 index7 alt1">8</div><div  class="line number9 index8 alt2">9</div><div  class="line number10 index9 alt1">10</div><div  class="line number11 index10 alt2">11</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="python keyword">import</code> <code  class="python plain">os</code></div><div  class="line number2 index1 alt1"><code  class="python plain">BASE_DIR </code><code  class="python keyword">=</code> <code  class="python plain">os.path.dirname(os.path.dirname(__file__))</code></div><div  class="line number3 index2 alt2">&nbsp;</div><div  class="line number4 index3 alt1"><code  class="python plain">DATABASES </code><code  class="python keyword">=</code> <code  class="python plain">{</code></div><div  class="line number5 index4 alt2"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'default'</code><code  class="python plain">: {</code></div><div  class="line number6 index5 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'ENGINE'</code><code  class="python plain">: </code><code  class="python string">'django.db.backends.sqlite3'</code><code  class="python plain">,</code></div><div  class="line number7 index6 alt2"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'NAME'</code><code  class="python plain">: os.path.join(BASE_DIR, </code><code  class="python string">'db.sqlite3'</code><code  class="python plain">),</code></div><div  class="line number8 index7 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python plain">}</code></div><div  class="line number9 index8 alt2"><code  class="python plain">}</code></div><div  class="line number10 index9 alt1">&nbsp;</div><div  class="line number11 index10 alt2"><code  class="python plain">DEBUG </code><code  class="python keyword">=</code> <code  class="python color1">True</code></div></div></td></tr></tbody></table></div></div>
<p><em><strong>mysite/settings.py文件</strong></em><br>
另外我们还需要修改settings.py文件，在文件结尾添加如下几行</p>
<div><div  id="highlighter_147974"  class="syntaxhighlighter  python"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div><div  class="line number5 index4 alt2">5</div><div  class="line number6 index5 alt1">6</div><div  class="line number7 index6 alt2">7</div><div  class="line number8 index7 alt1">8</div><div  class="line number9 index8 alt2">9</div><div  class="line number10 index9 alt1">10</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="python keyword">import</code> <code  class="python plain">dj_database_url</code></div><div  class="line number2 index1 alt1"><code  class="python plain">DATABASES[</code><code  class="python string">'default'</code><code  class="python plain">] </code><code  class="python keyword">=</code>&nbsp; <code  class="python plain">dj_database_url.config()</code></div><div  class="line number3 index2 alt2">&nbsp;</div><div  class="line number4 index3 alt1"><code  class="python plain">SECURE_PROXY_SSL_HEADER </code><code  class="python keyword">=</code> <code  class="python plain">(</code><code  class="python string">'HTTP_X_FORWARDED_PROTO'</code><code  class="python plain">, </code><code  class="python string">'https'</code><code  class="python plain">)</code></div><div  class="line number5 index4 alt2">&nbsp;</div><div  class="line number6 index5 alt1"><code  class="python plain">ALLOWED_HOSTS </code><code  class="python keyword">=</code> <code  class="python plain">[</code><code  class="python string">'*'</code><code  class="python plain">]</code></div><div  class="line number7 index6 alt2">&nbsp;</div><div  class="line number8 index7 alt1"><code  class="python plain">STATIC_ROOT </code><code  class="python keyword">=</code> <code  class="python string">'staticfiles'</code></div><div  class="line number9 index8 alt2">&nbsp;</div><div  class="line number10 index9 alt1"><code  class="python plain">DEBUG </code><code  class="python keyword">=</code> <code  class="python color1">False</code></div></div></td></tr></tbody></table></div></div>
<p>然后再导入本地开发配置，也是在最后添加</p>
<div><div  id="highlighter_229598"  class="syntaxhighlighter  python"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="python keyword">try</code><code  class="python plain">:</code></div><div  class="line number2 index1 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python keyword">from</code> <code  class="python plain">.local_settings </code><code  class="python keyword">import</code> <code  class="python keyword">*</code></div><div  class="line number3 index2 alt2"><code  class="python keyword">except</code> <code  class="python plain">ImportError:</code></div><div  class="line number4 index3 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python keyword">pass</code></div></div></td></tr></tbody></table></div></div>
<p><em><strong>mysite/wsgi.py文件</strong></em><br>
打开mysite/wsgi.py文件，添加如下几行到最后：</p>
<div><div  id="highlighter_946120"  class="syntaxhighlighter  python"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="python keyword">from</code> <code  class="python plain">whitenoise.django </code><code  class="python keyword">import</code> <code  class="python plain">DjangoWhiteNoise</code></div><div  class="line number2 index1 alt1"><code  class="python plain">application </code><code  class="python keyword">=</code> <code  class="python plain">DjangoWhiteNoise(application)</code></div></div></td></tr></tbody></table></div></div>
<p>OK，工程配置修改做完了。</p>
<p><em><strong>Heroku账号</strong></em><br>
首先你需要安装Heroku toolbelt，教程地址：<a  href="https://toolbelt.heroku.com/">https://toolbelt.heroku.com/</a><br>
两句话搞定：</p>
<div><div  id="highlighter_508199"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">wget -qO- https:</code><code  class="bash plain">//toolbelt</code><code  class="bash plain">.heroku.com</code><code  class="bash plain">/install</code><code  class="bash plain">.sh | sh</code></div><div  class="line number2 index1 alt1"><code  class="bash functions">echo</code> <code  class="bash string">'PATH="/usr/local/heroku/bin:$PATH"'</code> <code  class="bash plain">&gt;&gt; ~/.profile</code></div></div></td></tr></tbody></table></div></div>
<p>然后申请一个账号：<a  href="https://id.heroku.com/signup/www-home-top">https://id.heroku.com/signup/www-home-top</a><br>
登录：</p>
<div><div  id="highlighter_155749"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash comments"># heroku login</code></div></div></td></tr></tbody></table></div></div>
<p>如果报bad URI错误的话，那么代理设置必须是http://192.168.203.91:3128/这样的完整形式。</p>
<div><div  id="highlighter_748278"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div><div  class="line number5 index4 alt2">5</div><div  class="line number6 index5 alt1">6</div><div  class="line number7 index6 alt2">7</div><div  class="line number8 index7 alt1">8</div><div  class="line number9 index8 alt2">9</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">[mango@centos00 work]$ heroku login</code></div><div  class="line number2 index1 alt1"><code  class="bash plain">Enter your Heroku credentials.</code></div><div  class="line number3 index2 alt2"><code  class="bash plain">Email: yidao620@gmail.com</code></div><div  class="line number4 index3 alt1"><code  class="bash plain">Password (typing will be hidden):</code></div><div  class="line number5 index4 alt2"><code  class="bash plain">Your Heroku account does not have a public </code><code  class="bash functions">ssh</code> <code  class="bash plain">key uploaded.</code></div><div  class="line number6 index5 alt1"><code  class="bash plain">Found an SSH public key at </code><code  class="bash plain">/home/mango/</code><code  class="bash plain">.</code><code  class="bash functions">ssh</code><code  class="bash plain">/id_rsa</code><code  class="bash plain">.pub</code></div><div  class="line number7 index6 alt2"><code  class="bash plain">Would you like to upload it to Heroku? [Yn] Y</code></div><div  class="line number8 index7 alt1"><code  class="bash plain">Uploading SSH public key </code><code  class="bash plain">/home/mango/</code><code  class="bash plain">.</code><code  class="bash functions">ssh</code><code  class="bash plain">/id_rsa</code><code  class="bash plain">.pub... </code><code  class="bash keyword">done</code></div><div  class="line number9 index8 alt2"><code  class="bash plain">Authentication successful.</code></div></div></td></tr></tbody></table></div></div>
<p><em><strong>.gitignore文件</strong></em><br>
我们并不想将所有文件都上传到服务器上，比如我们本地设置local_setttings.py，数据库文件等。在我们工程主目录下面创建一个.gitignore文件，内容如下</p>
<div><div  id="highlighter_740790"  class="syntaxhighlighter  plain"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div><div  class="line number5 index4 alt2">5</div><div  class="line number6 index5 alt1">6</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="plain plain">myvenv</code></div><div  class="line number2 index1 alt1"><code  class="plain plain">__pycache__</code></div><div  class="line number3 index2 alt2"><code  class="plain plain">*.pyc</code></div><div  class="line number4 index3 alt1"><code  class="plain plain">staticfiles</code></div><div  class="line number5 index4 alt2"><code  class="plain plain">local_settings.py</code></div><div  class="line number6 index5 alt1"><code  class="plain plain">db.sqlite3</code></div></div></td></tr></tbody></table></div></div>
<p><em><strong>部署到Heroku</strong></em><br>
第一步先创建一个工程</p>
<div><div  id="highlighter_3433"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">(myvenv) [mango@centos00 mysite]$ heroku create yidaoblog</code></div></div></td></tr></tbody></table></div></div>
<p>返回结果</p>
<div><div  id="highlighter_593408"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">Creating yidaoblog... </code><code  class="bash keyword">done</code><code  class="bash plain">, stack is cedar</code></div><div  class="line number2 index1 alt1"><code  class="bash plain">https:</code><code  class="bash plain">//yidaoblog</code><code  class="bash plain">.herokuapp.com/ | git@heroku.com:yidaoblog.git</code></div></div></td></tr></tbody></table></div></div>
<p>请记住上面的地址git@heroku.com:yidaoblog.git</p>
<p>第二步初始化git本地仓库提交，并添加上面的远程仓库地址</p>
<div><div  id="highlighter_193838"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div><div  class="line number5 index4 alt2">5</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">[mango@centos00 mysite]$ git init</code></div><div  class="line number2 index1 alt1"><code  class="bash plain">初始化空的 Git 版本库于 </code><code  class="bash plain">/home/mango/work/djangogirls/mysite/</code><code  class="bash plain">.git/</code></div><div  class="line number3 index2 alt2"><code  class="bash plain">[mango@centos00 mysite]$ git add .</code></div><div  class="line number4 index3 alt1"><code  class="bash plain">[mango@centos00 mysite]$ git commit -m </code><code  class="bash string">'yidao blog by django.'</code></div><div  class="line number5 index4 alt2"><code  class="bash plain">[mango@centos00 mysite]$ git remote add origin git@heroku.com:yidaoblog.git</code></div></div></td></tr></tbody></table></div></div>
<p>第三步push工程</p>
<div><div  id="highlighter_576923"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">[mango@centos00 mysite]$ git push origin master</code></div></div></td></tr></tbody></table></div></div>
<p>最后得到类似下面的输出：</p>
<div><div  id="highlighter_256592"  class="syntaxhighlighter  plain"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div><div  class="line number5 index4 alt2">5</div><div  class="line number6 index5 alt1">6</div><div  class="line number7 index6 alt2">7</div><div  class="line number8 index7 alt1">8</div><div  class="line number9 index8 alt2">9</div><div  class="line number10 index9 alt1">10</div><div  class="line number11 index10 alt2">11</div><div  class="line number12 index11 alt1">12</div><div  class="line number13 index12 alt2">13</div><div  class="line number14 index13 alt1">14</div><div  class="line number15 index14 alt2">15</div><div  class="line number16 index15 alt1">16</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="plain plain">Successfully installed Django dj-database-url gunicorn whitenoise psycopg2</code></div><div  class="line number2 index1 alt1"><code  class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="plain plain">Cleaning up...</code></div><div  class="line number3 index2 alt2">&nbsp;</div><div  class="line number4 index3 alt1"><code  class="plain plain">-----&gt; Preparing static assets</code></div><div  class="line number5 index4 alt2"><code  class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="plain plain">Running collectstatic...</code></div><div  class="line number6 index5 alt1"><code  class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="plain plain">61 static files copied to '/app/staticfiles'.</code></div><div  class="line number7 index6 alt2">&nbsp;</div><div  class="line number8 index7 alt1"><code  class="plain plain">-----&gt; Discovering process types</code></div><div  class="line number9 index8 alt2"><code  class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="plain plain">Procfile declares types -&gt; web</code></div><div  class="line number10 index9 alt1">&nbsp;</div><div  class="line number11 index10 alt2"><code  class="plain plain">-----&gt; Compressing... done, 39.6MB</code></div><div  class="line number12 index11 alt1"><code  class="plain plain">-----&gt; Launching... done, v5</code></div><div  class="line number13 index12 alt2"><code  class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="plain plain"><a  href="https://yidaoblog.herokuapp.com/">https://yidaoblog.herokuapp.com/</a> deployed to Heroku</code></div><div  class="line number14 index13 alt1">&nbsp;</div><div  class="line number15 index14 alt2"><code  class="plain plain">To git@heroku.com:yidaoblog.git</code></div><div  class="line number16 index15 alt1"><code  class="plain spaces">&nbsp;</code><code  class="plain plain">* [new branch]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; master -&gt; master</code></div></div></td></tr></tbody></table></div></div>
<p>大功告成。</p>
<p><em><strong>访问应用</strong></em><br>
让Heroku启动你的应用</p>
<div><div  id="highlighter_706609"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">$ heroku </code><code  class="bash functions">ps</code><code  class="bash plain">:scale web=1 --app yidaoblog</code></div></div></td></tr></tbody></table></div></div>
<p>启动一个实例即可</p>
<p>同步数据库（这一步是必须要做的，否则会报500错误）：</p>
<div><div  id="highlighter_858571"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">$ heroku run:detached python manage.py migrate --app yidaoblog</code></div></div></td></tr></tbody></table></div></div>
<p>不过我运行后，只是表结构同步了，本地数据并没有同步，所以还要进行数据同步。试了好多教程都不尽如人意。最后一个最好的方案是本地直接使用postgresql开发，然后使用import技术。<br>
教程： <a  href="https://devcenter.heroku.com/articles/heroku-postgres-import-export">https://devcenter.heroku.com/articles/heroku-postgres-import-export</a><br>
如果本地要使用postgresql开发的话，local_settings.py文件需要修改如下：</p>
<div><div  id="highlighter_610543"  class="syntaxhighlighter  python"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div><div  class="line number4 index3 alt1">4</div><div  class="line number5 index4 alt2">5</div><div  class="line number6 index5 alt1">6</div><div  class="line number7 index6 alt2">7</div><div  class="line number8 index7 alt1">8</div><div  class="line number9 index8 alt2">9</div><div  class="line number10 index9 alt1">10</div><div  class="line number11 index10 alt2">11</div><div  class="line number12 index11 alt1">12</div><div  class="line number13 index12 alt2">13</div><div  class="line number14 index13 alt1">14</div><div  class="line number15 index14 alt2">15</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="python keyword">import</code> <code  class="python plain">os</code></div><div  class="line number2 index1 alt1"><code  class="python plain">BASE_DIR </code><code  class="python keyword">=</code> <code  class="python plain">os.path.dirname(os.path.dirname(__file__))</code></div><div  class="line number3 index2 alt2">&nbsp;</div><div  class="line number4 index3 alt1"><code  class="python plain">DATABASES </code><code  class="python keyword">=</code> <code  class="python plain">{</code></div><div  class="line number5 index4 alt2"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'default'</code><code  class="python plain">: {</code></div><div  class="line number6 index5 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'ENGINE'</code><code  class="python plain">: </code><code  class="python string">'django.db.backends.postgresql_psycopg2'</code><code  class="python plain">,</code></div><div  class="line number7 index6 alt2"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'NAME'</code><code  class="python plain">: </code><code  class="python string">'django'</code><code  class="python plain">,</code></div><div  class="line number8 index7 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'USER'</code><code  class="python plain">: </code><code  class="python string">'postgres'</code><code  class="python plain">,</code></div><div  class="line number9 index8 alt2"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'PASSWORD'</code><code  class="python plain">: </code><code  class="python string">'postgres'</code><code  class="python plain">,</code></div><div  class="line number10 index9 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'HOST'</code><code  class="python plain">: </code><code  class="python string">'192.168.203.95'</code><code  class="python plain">,</code></div><div  class="line number11 index10 alt2"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python string">'PORT'</code><code  class="python plain">: </code><code  class="python string">'5432'</code><code  class="python plain">,</code></div><div  class="line number12 index11 alt1"><code  class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code  class="python plain">}</code></div><div  class="line number13 index12 alt2"><code  class="python plain">}</code></div><div  class="line number14 index13 alt1">&nbsp;</div><div  class="line number15 index14 alt2"><code  class="python plain">DEBUG </code><code  class="python keyword">=</code> <code  class="python color1">True</code></div></div></td></tr></tbody></table></div></div>
<p><em><strong>在CentOS6上面安装postgresql9.3</strong></em></p>
<div><div  id="highlighter_924079"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash functions">sudo</code> <code  class="bash plain">yum </code><code  class="bash functions">install</code> <code  class="bash plain">python-devel</code></div><div  class="line number2 index1 alt1"><code  class="bash functions">export</code> <code  class="bash plain">PATH=</code><code  class="bash plain">/usr/pgsql-9</code><code  class="bash plain">.3</code><code  class="bash plain">/bin/</code><code  class="bash plain">:$PATH</code></div><div  class="line number3 index2 alt2"><code  class="bash plain">pip </code><code  class="bash functions">install</code> <code  class="bash plain">psycopg2</code></div></div></td></tr></tbody></table></div></div>
<p>出现pg_config命令找不到的时候可以先find：</p>
<div><div  id="highlighter_923055"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash functions">sudo</code> <code  class="bash functions">find</code> <code  class="bash plain">/usr</code> <code  class="bash plain">-name pg_config</code></div></div></td></tr></tbody></table></div></div>
<p>然后添加到PATH中去：</p>
<div><div  id="highlighter_632200"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash functions">export</code> <code  class="bash plain">PATH=</code><code  class="bash plain">/usr/pgsql-9</code><code  class="bash plain">.3</code><code  class="bash plain">/bin/</code><code  class="bash plain">:$PATH</code></div></div></td></tr></tbody></table></div></div>
<p>使用postgres用户登录后备份数据库：</p>
<div><div  id="highlighter_708433"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash functions">su</code> <code  class="bash plain">- postgres(postgres)</code></div><div  class="line number2 index1 alt1"><code  class="bash plain">pg_dump dbname &gt; </code><code  class="bash plain">/tmp/mydb</code><code  class="bash plain">.txt</code></div></div></td></tr></tbody></table></div></div>
<p>将输出的mydb.txt放到某个静态文件服务器上，必须在公网上可访问，比如七牛存储。为什么我没有选择AWS S3呢？原因你肯定懂得啦，就算我有了梯子还是不行，弄了一下午还是没成功，快气晕了。哎…</p>
<p>使用如下命令进行数据同步：</p>
<div><div  id="highlighter_3954"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">heroku pgbackups:restore DATABASE_URL </code><code  class="bash string">'<a  href="http://yidaospace.qiniudn.com/mydb.txt">http://yidaospace.qiniudn.com/mydb.txt</a>'</code></div></div></td></tr></tbody></table></div></div>
<p>期间需要你输入你的app名字来确认，并且还需要给你的app添加一个免费的addon：</p>
<div><div  id="highlighter_646165"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">heroku addons:add pgbackups</code></div></div></td></tr></tbody></table></div></div>
<p>查看日志：</p>
<div><div  id="highlighter_227442"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">(myvenv) [mango@centos00 mysite]$ heroku logs</code></div></div></td></tr></tbody></table></div></div>
<p>查看启动的实例</p>
<div><div  id="highlighter_701183"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div><div  class="line number2 index1 alt1">2</div><div  class="line number3 index2 alt2">3</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">[mango@centos00 mysite]$ heroku </code><code  class="bash functions">ps</code></div><div  class="line number2 index1 alt1"><code  class="bash plain">=== web (1X): `gunicorn mysite.wsgi`</code></div><div  class="line number3 index2 alt2"><code  class="bash plain">web.1: up 2014</code><code  class="bash plain">/11/04</code> <code  class="bash plain">09:40:43 (~ 7m ago)</code></div></div></td></tr></tbody></table></div></div>
<p>打开浏览器访问吧！ Enjoy it…<br>
输入网址 https://yidaoblog.herokuapp.com/admin 后的界面如下：<br>
<img  src="./Django1.7开发博客（3）- 部署   野猪林_files/dj005.jpg"  alt="heroku界面"></p>
<p>停止应用的命令</p>
<div><div  id="highlighter_589165"  class="syntaxhighlighter  bash"><table  border="0"  cellpadding="0"  cellspacing="0"><tbody><tr><td  class="gutter"><div  class="line number1 index0 alt2">1</div></td><td  class="code"><div  class="container"><div  class="line number1 index0 alt2"><code  class="bash plain">heroku </code><code  class="bash functions">ps</code><code  class="bash plain">:scale web=0 --app yidaoblog</code></div></div></td></tr></tbody></table></div></div>
			<div  class="fixed"></div>
		</div>
		<div  class="under">
			<span  class="categories">分类: </span><span><a  href="http://www.pycoding.com/articles/category/django"  rel="category tag">Django</a></span>			<span  class="tags">标签: </span><span><a  href="http://www.pycoding.com/articles/tag/django-2"  rel="tag">django</a></span>		</div>
	</div>

	
		

	<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/comment.js"></script>



<div  id="comments">

<div  id="cmtswitcher">
			<a  id="commenttab"  class="curtab"  href="javascript:void(0);" >评论 (4)</a>
		<a  id="trackbacktab"  class="tab"  href="javascript:void(0);" >Trackbacks (0)</a>
				<span  class="addcomment"><a  href="http://www.pycoding.com/articles/140.html#respond">发表评论</a></span>
				<span  class="addtrackback"><a  href="http://www.pycoding.com/articles/140.html/trackback">Trackback</a></span>
		<div  class="fixed"></div>
</div>

<div  id="commentlist">
	
	<ol  id="thecomments">
		<li  class="comment regularcomment"  id="comment-13">
		<div  class="author">
			<div  class="pic">
				<img  alt=""  src="./Django1.7开发博客（3）- 部署   野猪林_files/0f241beff0260bf424d9b0ac8f056931"  class="avatar avatar-32 photo"  height="32"  width="32">			</div>
			<div  class="name">
									<span  id="commentauthor-13">
				
				evil
									</span>
							</div>
		</div>

		<div  class="info">
			<div  class="date">
				2014年11月22日19:01					 | <a  href="http://www.pycoding.com/articles/140.html#comment-13">#1</a>
			</div>
			<div  class="act">
				<a  href="javascript:void(0);" >回复</a> | 
				<a  href="javascript:void(0);" >引用</a>
							</div>
			<div  class="fixed"></div>
			<div  class="content">
				
				<div  id="commentbody-13">
					<p>使用postgres用户登录后备份数据库：<br>
su – postgres(postgres)<br>
pg_dump dbname &gt; /tmp/mydb.txt</p>
<p>请问我来到这一步，su – postgres，验证一直失败的，用sudo强制进去postgresql里又没有dbname的database，这里该怎么做的呢？</p>
				</div>
			</div>
		</div>
		<div  class="fixed"></div>

</li>
	<li  class="comment regularcomment"  id="comment-14">
		<div  class="author">
			<div  class="pic">
				<img  alt=""  src="./Django1.7开发博客（3）- 部署   野猪林_files/0f241beff0260bf424d9b0ac8f056931"  class="avatar avatar-32 photo"  height="32"  width="32">			</div>
			<div  class="name">
									<span  id="commentauthor-14">
				
				evil
									</span>
							</div>
		</div>

		<div  class="info">
			<div  class="date">
				2014年11月22日20:13					 | <a  href="http://www.pycoding.com/articles/140.html#comment-14">#2</a>
			</div>
			<div  class="act">
				<a  href="javascript:void(0);" >回复</a> | 
				<a  href="javascript:void(0);" >引用</a>
							</div>
			<div  class="fixed"></div>
			<div  class="content">
				
				<div  id="commentbody-14">
					<p>我想请问一下，我的postgresql里面是没有数据的，这是哪里出错了吗？<br>
pg_dump: [archiver (db)] connection to database “dbname” failed: FATAL:  database “dbname” does not exist</p>
				</div>
			</div>
		</div>
		<div  class="fixed"></div>

</li>
	<li  class="comment admincomment"  id="comment-15">
		<div  class="author">
			<div  class="pic">
				<img  alt=""  src="./Django1.7开发博客（3）- 部署   野猪林_files/b941da55d30eddf9a0a39252d2534aa8"  class="avatar avatar-32 photo"  height="32"  width="32">			</div>
			<div  class="name">
									<a  id="commentauthor-15"  class="url"  href="http://www.pycoding.com/"  rel="external nofollow">
				
				熊能
									</a>
							</div>
		</div>

		<div  class="info">
			<div  class="date">
				2014年11月23日01:29					 | <a  href="http://www.pycoding.com/articles/140.html#comment-15">#3</a>
			</div>
			<div  class="act">
				<a  href="javascript:void(0);" >回复</a> | 
				<a  href="javascript:void(0);" >引用</a>
							</div>
			<div  class="fixed"></div>
			<div  class="content">
				
				<div  id="commentbody-15">
					<p><a  href="http://www.pycoding.com/articles/140.html#comment-14"  rel="nofollow">@evil </a><br>
dbname是你自己的数据库名称。</p>
				</div>
			</div>
		</div>
		<div  class="fixed"></div>

</li>
	<li  class="comment regularcomment"  id="comment-22">
		<div  class="author">
			<div  class="pic">
				<img  alt=""  src="./Django1.7开发博客（3）- 部署   野猪林_files/2ec7b819b7ecf9e818116bd25bf70d6c"  class="avatar avatar-32 photo"  height="32"  width="32">			</div>
			<div  class="name">
									<a  id="commentauthor-22"  class="url"  href="http://www.helloword.com/"  rel="external nofollow">
				
				mario
									</a>
							</div>
		</div>

		<div  class="info">
			<div  class="date">
				2014年12月16日14:08					 | <a  href="http://www.pycoding.com/articles/140.html#comment-22">#4</a>
			</div>
			<div  class="act">
				<a  href="javascript:void(0);" >回复</a> | 
				<a  href="javascript:void(0);" >引用</a>
							</div>
			<div  class="fixed"></div>
			<div  class="content">
				
				<div  id="commentbody-22">
					<p>[<a  href="http://www.pycoding.com/articles/140.html#"  title="]"  rel="nofollow"></a>[” <a></a>]</p>
				</div>
			</div>
		</div>
		<div  class="fixed"></div>

</li>
	</ol>
	


	
			<ol  id="thetrackbacks">
							<li  class="messagebox">
					本文目前尚无任何 trackbacks 和 pingbacks.				</li>

					</ol>
		<div  class="fixed"></div>
	
</div>

</div>

	<form  action="http://www.pycoding.com/wp-comments-post.php"  method="post"  id="commentform">
	<div  id="respond">

					
			<div  id="author_info">
				<div  class="row">
					<input  type="text"  name="author"  id="author"  class="textfield"  value=""  size="24"  tabindex="1">
					<label  for="author"  class="small">昵称 (必填)</label>
				</div>
				<div  class="row">
					<input  type="text"  name="email"  id="email"  class="textfield"  value=""  size="24"  tabindex="2">
					<label  for="email"  class="small">电子邮箱 (我们会为您保密) (必填)</label>
				</div>
				<div  class="row">
					<input  type="text"  name="url"  id="url"  class="textfield"  value=""  size="24"  tabindex="3">
					<label  for="url"  class="small">网址</label>
				</div>
			</div>

			
		
		
		<div  class="row">
			<textarea  name="comment"  id="comment"  tabindex="4"  rows="8"  cols="50"></textarea>
		</div>

		
		<div  id="submitbox">
			<a  class="feed"  href="http://www.pycoding.com/comments/feed">订阅评论</a>
			<div  class="submitbutton">
				<input  name="submit"  type="submit"  id="submit"  class="button"  tabindex="5"  value="提交评论">
			</div>
						<input  type="hidden"  name="comment_post_ID"  value="140">
			<div  class="fixed"></div>
		</div>

	</div>
		</form>

	

	<div  id="postnavi">
		<span  class="prev"><a  href="http://www.pycoding.com/articles/142.html"  rel="next">Django1.7开发博客（4）- 三部曲</a></span>
		<span  class="next"><a  href="http://www.pycoding.com/articles/135.html"  rel="prev">Django1.7开发博客（2）- 模型</a></span>
		<div  class="fixed"></div>
	</div>


	</div>
	

	

<div  id="sidebar">


<div  id="northsidebar"  class="sidebar">

	
	<div  class="widget widget_feeds">
		<div  class="content">
			<div  id="subscribe"><a  rel="external nofollow"  id="feedrss"  title="订阅这个博客的文章"  href="http://www.pycoding.com/feed"  class=" ">订阅</a><ul  id="feed_readers"  style="visibility: hidden; display: block; left: 940px; top: 231px;"><li  id="google_reader"><a  rel="external nofollow"  class="reader"  title="订阅到 Google"  href="http://fusion.google.com/add?feedurl=http://www.pycoding.com/feed"><span> Google</span></a></li><li  id="youdao_reader"><a  rel="external nofollow"  class="reader"  title="订阅到有道"  href="http://reader.youdao.com/#url=http://www.pycoding.com/feed"><span>有道</span></a></li><li  id="xianguo_reader"><a  rel="external nofollow"  class="reader"  title="订阅到鲜果"  href="http://www.xianguo.com/subscribe.php?url=http://www.pycoding.com/feed"><span>鲜果</span></a></li><li  id="zhuaxia_reader"><a  rel="external nofollow"  class="reader"  title="订阅到抓虾"  href="http://www.zhuaxia.com/add_channel.php?url=http://www.pycoding.com/feed"><span>抓虾</span></a></li><li  id="yahoo_reader"><a  rel="external nofollow"  class="reader"  title="订阅到 My Yahoo!"  href="http://add.my.yahoo.com/rss?url=http://www.pycoding.com/feed"><span> My Yahoo!</span></a></li><li  id="newsgator_reader"><a  rel="external nofollow"  class="reader"  title="订阅到 newsgator"  href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://www.pycoding.com/feed"><span> newsgator</span></a></li><li  id="bloglines_reader"><a  rel="external nofollow"  class="reader"  title="订阅到 Bloglines"  href="http://www.bloglines.com/sub/http://www.pycoding.com/feed"><span> Bloglines</span></a></li><li  id="inezha_reader"><a  rel="external nofollow"  class="reader last"  title="订阅到哪吒"  href="http://inezha.com/add?url=http://www.pycoding.com/feed"><span>哪吒</span></a></li></ul></div>
							<a  id="followme"  title="Follow me!"  href="http://twitter.com/XiongNeng/">Twitter</a>
						<div  class="fixed"></div>
		</div>
	</div>

	
	
		<div  id="recent-posts-2"  class="widget widget_recent_entries">		<h3>近期文章</h3>		<ul>
					<li>
				<a  href="http://www.pycoding.com/articles/340.html">python函数装饰器详解</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/328.html">Django1.7开发博客（10）- 全文搜索</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/197.html">通过七牛云存储缓存加速Gravatar头像</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/190.html">Python正则表达式详解</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/183.html">搭建个人WordPress博客笔记</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/166.html">Django1.7开发博客（9）- 用户认证</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/164.html">Django1.7开发博客（8）- 继续完善</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/160.html">Django1.7开发博客（7）- 实现功能</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/158.html">Django1.7开发博客（6）- 模板继承</a>
						</li>
					<li>
				<a  href="http://www.pycoding.com/articles/155.html">Django1.7开发博客（5）- 页面美化</a>
						</li>
				</ul>
		</div><div  id="recent-comments-2"  class="widget widget_recent_comments"><h3>近期评论</h3><ul  id="recentcomments"><li  class="recentcomments"><span  class="comment-author-link">大鲨鱼</span>发表在《<a  href="http://www.pycoding.com/articles/160.html#comment-28">Django1.7开发博客（7）- 实现功能</a>》</li><li  class="recentcomments"><span  class="comment-author-link"><a  href="http://www.pycoding.com/"  rel="external nofollow"  class="url">熊能</a></span>发表在《<a  href="http://www.pycoding.com/articles/158.html#comment-27">Django1.7开发博客（6）- 模板继承</a>》</li><li  class="recentcomments"><span  class="comment-author-link">大鲨鱼</span>发表在《<a  href="http://www.pycoding.com/articles/158.html#comment-26">Django1.7开发博客（6）- 模板继承</a>》</li><li  class="recentcomments"><span  class="comment-author-link"><a  href="http://user.qzone.qq.com/3087908637"  rel="external nofollow"  class="url">猪粪烘干机</a></span>发表在《<a  href="http://www.pycoding.com/articles/166.html#comment-24">Django1.7开发博客（9）- 用户认证</a>》</li><li  class="recentcomments"><span  class="comment-author-link"><a  href="http://www.helloword.com/"  rel="external nofollow"  class="url">mario</a></span>发表在《<a  href="http://www.pycoding.com/articles/140.html#comment-22">Django1.7开发博客（3）- 部署</a>》</li><li  class="recentcomments"><span  class="comment-author-link"><a  href="http://www.pycoding.com/"  rel="external nofollow"  class="url">熊能</a></span>发表在《<a  href="http://www.pycoding.com/articles/166.html#comment-21">Django1.7开发博客（9）- 用户认证</a>》</li><li  class="recentcomments"><span  class="comment-author-link">Kylin</span>发表在《<a  href="http://www.pycoding.com/articles/166.html#comment-20">Django1.7开发博客（9）- 用户认证</a>》</li><li  class="recentcomments"><span  class="comment-author-link"><a  href="http://www.pycoding.com/"  rel="external nofollow"  class="url">熊能</a></span>发表在《<a  href="http://www.pycoding.com/articles/140.html#comment-15">Django1.7开发博客（3）- 部署</a>》</li><li  class="recentcomments"><span  class="comment-author-link">evil</span>发表在《<a  href="http://www.pycoding.com/articles/140.html#comment-14">Django1.7开发博客（3）- 部署</a>》</li><li  class="recentcomments"><span  class="comment-author-link">evil</span>发表在《<a  href="http://www.pycoding.com/articles/140.html#comment-13">Django1.7开发博客（3）- 部署</a>》</li></ul></div><div  id="tag_cloud-2"  class="widget widget_tag_cloud"><h3>标签</h3><div  class="tagcloud"><a  href="http://www.pycoding.com/articles/tag/centos"  class="tag-link-20"  title="3个话题"  style="font-size: 13.675675675676pt;">centos</a>
<a  href="http://www.pycoding.com/articles/tag/cron"  class="tag-link-30"  title="1个话题"  style="font-size: 8pt;">cron</a>
<a  href="http://www.pycoding.com/articles/tag/django-2"  class="tag-link-57"  title="10个话题"  style="font-size: 22pt;">django</a>
<a  href="http://www.pycoding.com/articles/tag/eclipse"  class="tag-link-16"  title="2个话题"  style="font-size: 11.405405405405pt;">eclipse</a>
<a  href="http://www.pycoding.com/articles/tag/fastjson"  class="tag-link-46"  title="1个话题"  style="font-size: 8pt;">fastjson</a>
<a  href="http://www.pycoding.com/articles/tag/gravatar"  class="tag-link-61"  title="1个话题"  style="font-size: 8pt;">gravatar</a>
<a  href="http://www.pycoding.com/articles/tag/idea"  class="tag-link-28"  title="1个话题"  style="font-size: 8pt;">idea</a>
<a  href="http://www.pycoding.com/articles/tag/java-2"  class="tag-link-36"  title="3个话题"  style="font-size: 13.675675675676pt;">java</a>
<a  href="http://www.pycoding.com/articles/tag/junit4"  class="tag-link-32"  title="1个话题"  style="font-size: 8pt;">junit4</a>
<a  href="http://www.pycoding.com/articles/tag/keepalived"  class="tag-link-53"  title="1个话题"  style="font-size: 8pt;">keepalived</a>
<a  href="http://www.pycoding.com/articles/tag/lambda"  class="tag-link-50"  title="1个话题"  style="font-size: 8pt;">lambda</a>
<a  href="http://www.pycoding.com/articles/tag/lvs"  class="tag-link-54"  title="1个话题"  style="font-size: 8pt;">lvs</a>
<a  href="http://www.pycoding.com/articles/tag/memcached"  class="tag-link-31"  title="4个话题"  style="font-size: 15.567567567568pt;">memcached</a>
<a  href="http://www.pycoding.com/articles/tag/mqtt"  class="tag-link-51"  title="1个话题"  style="font-size: 8pt;">mqtt</a>
<a  href="http://www.pycoding.com/articles/tag/mysql"  class="tag-link-13"  title="1个话题"  style="font-size: 8pt;">mysql</a>
<a  href="http://www.pycoding.com/articles/tag/oracle"  class="tag-link-18"  title="1个话题"  style="font-size: 8pt;">oracle</a>
<a  href="http://www.pycoding.com/articles/tag/python-2"  class="tag-link-45"  title="3个话题"  style="font-size: 13.675675675676pt;">python</a>
<a  href="http://www.pycoding.com/articles/tag/quartz"  class="tag-link-29"  title="1个话题"  style="font-size: 8pt;">quartz</a>
<a  href="http://www.pycoding.com/articles/tag/rabbitmq"  class="tag-link-44"  title="2个话题"  style="font-size: 11.405405405405pt;">rabbitmq</a>
<a  href="http://www.pycoding.com/articles/tag/redis"  class="tag-link-40"  title="1个话题"  style="font-size: 8pt;">redis</a>
<a  href="http://www.pycoding.com/articles/tag/sed"  class="tag-link-27"  title="1个话题"  style="font-size: 8pt;">sed</a>
<a  href="http://www.pycoding.com/articles/tag/swing"  class="tag-link-17"  title="1个话题"  style="font-size: 8pt;">swing</a>
<a  href="http://www.pycoding.com/articles/tag/vim"  class="tag-link-60"  title="1个话题"  style="font-size: 8pt;">vim</a>
<a  href="http://www.pycoding.com/articles/tag/wordpress"  class="tag-link-58"  title="1个话题"  style="font-size: 8pt;">wordpress</a>
<a  href="http://www.pycoding.com/articles/tag/xmemcached"  class="tag-link-39"  title="2个话题"  style="font-size: 11.405405405405pt;">xmemcached</a>
<a  href="http://www.pycoding.com/articles/tag/xpath"  class="tag-link-48"  title="1个话题"  style="font-size: 8pt;">xpath</a>
<a  href="http://www.pycoding.com/articles/tag/yaml"  class="tag-link-47"  title="1个话题"  style="font-size: 8pt;">yaml</a>
<a  href="http://www.pycoding.com/articles/tag/yum"  class="tag-link-21"  title="1个话题"  style="font-size: 8pt;">yum</a>
<a  href="http://www.pycoding.com/articles/tag/%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be"  class="tag-link-56"  title="1个话题"  style="font-size: 8pt;">二分查找</a>
<a  href="http://www.pycoding.com/articles/tag/%e5%85%a8%e6%96%87%e6%90%9c%e7%b4%a2"  class="tag-link-66"  title="1个话题"  style="font-size: 8pt;">全文搜索</a>
<a  href="http://www.pycoding.com/articles/tag/%e5%85%ab%e7%9a%87%e5%90%8e"  class="tag-link-41"  title="1个话题"  style="font-size: 8pt;">八皇后</a>
<a  href="http://www.pycoding.com/articles/tag/%e5%9b%9e%e6%ba%af%e6%b3%95"  class="tag-link-42"  title="1个话题"  style="font-size: 8pt;">回溯法</a>
<a  href="http://www.pycoding.com/articles/tag/%e5%b9%b6%e5%8f%91"  class="tag-link-37"  title="1个话题"  style="font-size: 8pt;">并发</a>
<a  href="http://www.pycoding.com/articles/tag/%e5%bd%92%e5%b9%b6%e6%8e%92%e5%ba%8f"  class="tag-link-62"  title="1个话题"  style="font-size: 8pt;">归并排序</a>
<a  href="http://www.pycoding.com/articles/tag/%e5%bf%ab%e9%80%9f%e6%8e%92%e5%ba%8f"  class="tag-link-23"  title="1个话题"  style="font-size: 8pt;">快速排序</a>
<a  href="http://www.pycoding.com/articles/tag/%e6%8f%92%e5%85%a5%e6%8e%92%e5%ba%8f"  class="tag-link-63"  title="1个话题"  style="font-size: 8pt;">插入排序</a>
<a  href="http://www.pycoding.com/articles/tag/%e6%9b%b4%e6%96%b0%e6%ba%90"  class="tag-link-22"  title="1个话题"  style="font-size: 8pt;">更新源</a>
<a  href="http://www.pycoding.com/articles/tag/%e6%a0%91%e6%9f%a5%e8%af%a2"  class="tag-link-19"  title="1个话题"  style="font-size: 8pt;">树查询</a>
<a  href="http://www.pycoding.com/articles/tag/%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f"  class="tag-link-26"  title="2个话题"  style="font-size: 11.405405405405pt;">正则表达式</a>
<a  href="http://www.pycoding.com/articles/tag/%e6%b5%b7%e7%9b%97"  class="tag-link-11"  title="1个话题"  style="font-size: 8pt;">海盗</a>
<a  href="http://www.pycoding.com/articles/tag/%e8%a3%85%e9%a5%b0%e5%99%a8"  class="tag-link-67"  title="1个话题"  style="font-size: 8pt;">装饰器</a>
<a  href="http://www.pycoding.com/articles/tag/%e8%b0%9c%e9%a2%98"  class="tag-link-34"  title="1个话题"  style="font-size: 8pt;">谜题</a></div>
</div><div  id="categories-2"  class="widget widget_categories"><h3>分类目录</h3>		<ul>
	<li  class="cat-item cat-item-10"><a  href="http://www.pycoding.com/articles/category/django"  title="Django框架">Django</a>
</li>
	<li  class="cat-item cat-item-2"><a  href="http://www.pycoding.com/articles/category/java"  title="Java语言">Java</a>
</li>
	<li  class="cat-item cat-item-3"><a  href="http://www.pycoding.com/articles/category/linux"  title="Linux操作系统">Linux</a>
</li>
	<li  class="cat-item cat-item-6"><a  href="http://www.pycoding.com/articles/category/python"  title="Python语言">Python</a>
</li>
	<li  class="cat-item cat-item-4"><a  href="http://www.pycoding.com/articles/category/javaweb"  title="Web编程开发">Web开发</a>
</li>
	<li  class="cat-item cat-item-15"><a  href="http://www.pycoding.com/articles/category/tools"  title="开发测试工具">开发工具</a>
</li>
	<li  class="cat-item cat-item-12"><a  href="http://www.pycoding.com/articles/category/database"  title="数据库技术">数据库</a>
</li>
	<li  class="cat-item cat-item-8"><a  href="http://www.pycoding.com/articles/category/love"  title="心情故事">朝花夕拾</a>
</li>
	<li  class="cat-item cat-item-7"><a  href="http://www.pycoding.com/articles/category/algorithm"  title="算法导论">算法导论</a>
</li>
	<li  class="cat-item cat-item-9"><a  href="http://www.pycoding.com/articles/category/system"  title="系统架构">系统架构</a>
</li>
		</ul>
</div><div  id="archives-2"  class="widget widget_archive"><h3>文章归档</h3>		<ul>
	<li><a  href="http://www.pycoding.com/articles/date/2014/12">2014年十二月</a>&nbsp;(2)</li>
	<li><a  href="http://www.pycoding.com/articles/date/2014/11">2014年十一月</a>&nbsp;(41)</li>
		</ul>
</div><div  id="meta-2"  class="widget widget_meta"><h3>功能</h3>			<ul>
						<li><a  href="http://www.pycoding.com/wp-login.php">登录</a></li>
			<li><a  href="http://www.pycoding.com/feed">文章<abbr  title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a  href="http://www.pycoding.com/comments/feed">评论<abbr  title="Really Simple Syndication">RSS</abbr></a></li>
<li><a  href="https://cn.wordpress.org/"  title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>			</ul>
</div><div  id="simple-links-2"  class="widget sl-links-main"><h3>友情链接</h3><ul  class="simple-links-list"><li  class="simple-links-item simple-links-widget-item"  id="link-326"><a  href="http://coolshell.cn/"  target=""  title="">CoolShell.cn</a></li><li  class="simple-links-item simple-links-widget-item"  id="link-334"><a  href="http://www.cnblogs.com/"  target=""  title="">博客园</a></li><li  class="simple-links-item simple-links-widget-item"  id="link-336"><a  href="http://www.infoq.com/cn/"  target=""  title="">InfoQ</a></li><li  class="simple-links-item simple-links-widget-item"  id="link-338"><a  href="http://www.ruanyifeng.com/blog/archives.html"  target=""  title="">阮一峰的网络日志</a></li></ul></div></div>


<div  id="centersidebar">

	
	<div  id="eastsidebar"  class="sidebar">
			</div>
	

	
	<div  id="westsidebar"  class="sidebar">
			</div>
	
	<div  class="fixed"></div>
</div>


<div  id="southsidebar"  class="sidebar">
</div>


</div>

	<div  class="fixed"></div>
</div>



<div  id="footer">
	<a  id="gotop"  href="http://www.pycoding.com/articles/140.html#" >回到顶部</a>
	<a  id="powered"  href="http://wordpress.org/">WordPress</a>
	<div  id="copyright">
		版权所有 © 2014 野猪林	</div>
	<div  id="themeinfo">
		主题由 <a  href="http://www.neoease.com/">NeoEase</a> 提供, 通过 <a  href="http://validator.w3.org/check?uri=referer">XHTML 1.1</a> 和 <a  href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3">CSS 3</a> 验证.	</div>
</div>


</div>

</div>


<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/shCore.js"></script>
<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/shBrushBash.js"></script>
<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/shBrushPython.js"></script>
<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/shBrushPlain.js"></script>
<script  type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://www.pycoding.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://www.pycoding.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '帮助';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = '无法找到Brush：';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush不能设置 html-script选项';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script  type="text/javascript">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/www.pycoding.com\/wp-admin\/admin-ajax.php","post_id":"140"};
/* ]]> */
</script>
<script  type="text/javascript"  src="./Django1.7开发博客（3）- 部署   野猪林_files/postviews-cache.js"></script>








<div  id="__nightingale_view_cover"  style="width: 100%; height: 100%; -webkit-transition: -webkit-transform 10s ease-in-out; transition: -webkit-transform 10s ease-in-out; position: fixed !important; left: 0px !important; bottom: 0px !important; overflow: hidden !important; background-color: rgb(0, 0, 0) !important; pointer-events: none !important; z-index: 2147483647; opacity: 0; background-position: initial initial !important; background-repeat: initial initial !important;"></div></body></html>